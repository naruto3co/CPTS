# Escalation ƒê·∫∑c Quy·ªÅn Linux -- B·∫£n D·ªãch & Phi√™n B·∫£n N√¢ng Cao

*(D·ªãch t·ª´ t√†i li·ªáu g·ªëc -- ƒë√£ n√¢ng c·∫•p b·ªë c·ª•c, th√™m ghi ch√∫, ki·∫øn th·ª©c
tr·ªçng t√¢m)*

# üìö M·ª•c L·ª•c

-   [Gi·ªõi thi·ªáu](#gi·ªõi-thi·ªáu)\
-   [1. Enumeration (Thu th·∫≠p th√¥ng
    tin)](#1-enumeration-thu-th·∫≠p-th√¥ng-tin)
    -   [1.1 OS Version](#11-os-version)\
    -   [1.2 Kernel Version](#12-kernel-version)\
    -   [1.3 D·ªãch v·ª• ƒëang ch·∫°y](#13-d·ªãch-v·ª•-ƒëang-ch·∫°y)\
    -   [1.4 G√≥i c√†i ƒë·∫∑t v√† phi√™n b·∫£n](#14-g√≥i-c√†i-ƒë·∫∑t-v√†-phi√™n-b·∫£n)\
    -   [1.5 Ng∆∞·ªùi d√πng ƒëang ƒëƒÉng nh·∫≠p](#15-ng∆∞·ªùi-d√πng-ƒëang-ƒëƒÉng-nh·∫≠p)\
    -   [1.6 Th∆∞ m·ª•c home](#16-th∆∞-m·ª•c-home)\
    -   [1.7 SSH Keys](#17-ssh-keys)\
    -   [1.8 Bash History](#18-bash-history)\
    -   [1.9 Sudo Privileges](#19-sudo-privileges)\
    -   [1.10 File c·∫•u h√¨nh](#110-file-c·∫•u-h√¨nh)\
    -   [1.11 File shadow/passwd](#111-shadowpasswd)\
    -   [1.12 Cron Jobs](#112-cron-jobs)\
    -   [1.13 ·ªî ƒëƒ©a & filesystem](#113-·ªï-ƒëƒ©a--filesystem)\
    -   [1.14 SETUID / SETGID](#114-setuid--setgid)\
    -   [1.15 Th∆∞ m·ª•c ghi ƒë∆∞·ª£c](#115-th∆∞-m·ª•c-ghi-ƒë∆∞·ª£c)\
    -   [1.16 File ghi ƒë∆∞·ª£c](#116-file-ghi-ƒë∆∞·ª£c)\
-   [K·∫øt lu·∫≠n](#k·∫øt-lu·∫≠n)\
-   [Ki·∫øn th·ª©c quan tr·ªçng c·∫ßn nh·ªõ](#ki·∫øn-th·ª©c-quan-tr·ªçng-c·∫ßn-nh·ªõ)

------------------------------------------------------------------------

# Gi·ªõi thi·ªáu

T√†i li·ªáu n√†y tr√¨nh b√†y **k·ªπ thu·∫≠t leo thang ƒë·∫∑c quy·ªÅn Linux** khi b·∫°n c√≥
ƒë∆∞·ª£c shell h·∫°n ch·∫ø v√† c·∫ßn leo l√™n **root**.\
N·ªôi dung ƒë∆∞·ª£c d·ªãch t·ª´ b·∫£n g·ªëc v√† **ƒë∆∞·ª£c n√¢ng c·∫•p**, bao g·ªìm:\
‚úî Gi·∫£i th√≠ch chi ti·∫øt, r√µ r√†ng\
‚úî Th√™m l∆∞u √Ω quan tr·ªçng\
‚úî B·ªë c·ª•c Markdown t·ªëi ∆∞u\
‚úî B·∫£n d·ªãch ti·∫øng Vi·ªát t·ª± nhi√™n\
‚úî Kh√¥ng c·∫Øt n·ªôi dung

------------------------------------------------------------------------

# 1. Enumeration (Thu th·∫≠p th√¥ng tin)

**Enumeration l√† b∆∞·ªõc quan tr·ªçng nh·∫•t trong privilege escalation.**\
D√πng script nh∆∞ **LinEnum**, nh∆∞ng quan tr·ªçng h∆°n l√† b·∫°n ph·∫£i **t·ª± bi·∫øt
c·∫ßn ki·ªÉm tra g√¨**.

------------------------------------------------------------------------

## 1.1 OS Version

Ki·ªÉm tra b·∫£n ph√¢n ph·ªëi Linux: Ubuntu, Debian, CentOS, Fedora...\
‚Üí C√≥ th·ªÉ c√≥ **public exploit** ph√π h·ª£p b·∫£n OS.

------------------------------------------------------------------------

## 1.2 Kernel Version

Gi·ªëng OS version, kernel version c√≥ th·ªÉ t·ªìn t·∫°i CVE.

‚ö† *Kernel exploit c√≥ th·ªÉ g√¢y crash h·ªá th·ªëng.*

------------------------------------------------------------------------

## 1.3 D·ªãch v·ª• ƒëang ch·∫°y

D·ªãch v·ª• ch·∫°y d∆∞·ªõi quy·ªÅn root ƒë·∫∑c bi·ªát quan tr·ªçng.\
V√≠ d·ª•:\
- Nagios\
- Samba\
- Exim\
- ProFTPd

Nhi·ªÅu service c√≥ CVE gi√∫p escalation.

------------------------------------------------------------------------

## 1.4 G√≥i c√†i ƒë·∫∑t v√† phi√™n b·∫£n

V√≠ d·ª•:\
Screen 4.05.00 c√≥ l·ªó h·ªïng LPE.

------------------------------------------------------------------------

## 1.5 Ng∆∞·ªùi d√πng ƒëang ƒëƒÉng nh·∫≠p

Bi·∫øt ng∆∞·ªùi d√πng ƒëang ho·∫°t ƒë·ªông gi√∫p:\
- Lateral movement\
- Priv escalation th√¥ng qua user h√†nh ƒë·ªông.

------------------------------------------------------------------------

## 1.6 Th∆∞ m·ª•c home

Nhi·ªÅu home folder m·ªü quy·ªÅn ƒë·ªçc ‚Üí c√≥ SSH key, config.

------------------------------------------------------------------------

## 1.7 SSH Keys

N·∫øu t√¨m th·∫•y SSH private key ‚Üí\
- truy c·∫≠p ·ªïn ƒë·ªãnh h∆°n\
- c√≥ th·ªÉ v√†o h·ªá th·ªëng kh√°c trong m·∫°ng

------------------------------------------------------------------------

## 1.8 Bash History

C√≥ th·ªÉ ch·ª©a:\
- m·∫≠t kh·∫©u\
- c√¢u l·ªánh cron\
- k·∫øt n·ªëi SSH\
- thao t√°c qu·∫£n tr·ªã

------------------------------------------------------------------------

## 1.9 Sudo Privileges

N·∫øu user c√≥ quy·ªÅn sudo NOPASSWD ‚Üí\
‚Üí C√≥ th·ªÉ ch·∫°y l·ªánh root m√† kh√¥ng c·∫ßn m·∫≠t kh·∫©u.

------------------------------------------------------------------------

## 1.10 File c·∫•u h√¨nh

C√°c file `.conf`, `.config` c√≥ th·ªÉ ch·ª©a username/password.

------------------------------------------------------------------------

## 1.11 Shadow/passwd

N·∫øu `/etc/shadow` readable ‚Üí\
‚Üí L·∫•y hash ‚Üí crack offline.

N·∫øu password hash n·∫±m ·ªü passwd (hi·∫øm) ‚Üí nguy hi·ªÉm.

------------------------------------------------------------------------

## 1.12 Cron Jobs

Cron gi·ªëng scheduled task c·ªßa Windows.\
N·∫øu cron ch·∫°y script m√† script writable ‚Üí\
‚Üí Ch√®n payload ‚Üí khi cron ch·∫°y ‚Üí l√™n root.

------------------------------------------------------------------------

## 1.13 ·ªî ƒëƒ©a & filesystem

C√≥ th·ªÉ mount th√™m ·ªï, xem backup ch·ª©a m·∫≠t kh·∫©u.

------------------------------------------------------------------------

## 1.14 SETUID / SETGID

Binaries c√≥ quy·ªÅn n√†y ch·∫°y v·ªõi quy·ªÅn root.\
N·∫øu b·ªã misconfig ‚Üí l√™n root.

------------------------------------------------------------------------

## 1.15 Th∆∞ m·ª•c ghi ƒë∆∞·ª£c

D√πng ƒë·ªÉ:\
- t·∫£i tool\
- inject script v√†o cron\
- ghi shell

------------------------------------------------------------------------

## 1.16 File ghi ƒë∆∞·ª£c

N·∫øu file config ho·∫∑c script b·ªã world-writable ‚Üí\
‚Üí Ch·ªâ c·∫ßn ch·ªânh nh·∫π l√† c√≥ th·ªÉ leo thang.

------------------------------------------------------------------------

# K·∫øt lu·∫≠n

Privilege escalation trong Linux d·ª±a tr√™n **enumeration k·ªπ l∆∞·ª°ng**.\
Kh√¥ng c√≥ c√¥ng c·ª• "m·ªôt ph√°t ƒÉn ngay", nh∆∞ng khi hi·ªÉu r√µ c√°ch Linux l∆∞u
tr·ªØ file, ph√¢n quy·ªÅn, d·ªãch v·ª• v√† user ho·∫°t ƒë·ªông, b·∫°n c√≥ th·ªÉ:\
- t√¨m ƒë∆∞·ªùng leo root hi·ªáu qu·∫£\
- h·∫°n ch·∫ø crash\
- tƒÉng t·ªëc qu√° tr√¨nh pentest

Vi·ªác ki·ªÉm tra **m·ªói th√†nh ph·∫ßn nh·ªè**: d·ªãch v·ª•, file config, g√≥i, cron,
user... ƒë·ªÅu c√≥ th·ªÉ m·ªü ra 1 ƒë∆∞·ªùng l√™n quy·ªÅn.

------------------------------------------------------------------------

# Ki·∫øn th·ª©c quan tr·ªçng c·∫ßn nh·ªõ

‚úî Enumeration l√† b∆∞·ªõc QUAN TR·ªåNG NH·∫§T\
‚úî T·∫≠p trung v√†o:\
- d·ªãch v·ª• ch·∫°y d∆∞·ªõi root\
- file/writeable\
- sudo\
- cron\
- SSH key\
- kernel/OS version\
‚úî Kh√¥ng ch·∫°y kernel exploit n·∫øu kh√¥ng c·∫ßn\
‚úî Lu√¥n xem bash history, home folder, config file\
‚úî Cron job + file writable = ƒë∆∞·ªùng l√™n quy·ªÅn d·ªÖ nh·∫•t\
‚úî Sudo NOPASSWD = free root\
‚úî File shadow readable = kh·∫£ nƒÉng crack password

------------------------------------------------------------------------

*(T√†i li·ªáu d·ªãch t·ª´ ngu·ªìn PDF g·ªëc: Linux Privilege Escalation)*
