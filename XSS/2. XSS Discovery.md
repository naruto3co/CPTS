# XSS Discovery â€” TÃ³m táº¯t (Hack The Box Academy)

## ğŸ“Œ 1. Má»¥c tiÃªu  
Pháº§n â€œXSS Discoveryâ€ táº­p trung vÃ o **cÃ¡ch phÃ¡t hiá»‡n** lá»— há»•ng XSS báº±ng:
- CÃ´ng cá»¥ tá»± Ä‘á»™ng
- Kiá»ƒm thá»­ thá»§ cÃ´ng (payload)
- Code review (backend + frontend)

---

## ğŸ“Œ 2. PhÃ¡t hiá»‡n XSS tá»± Ä‘á»™ng (Automated Discovery)

### ğŸ”§ CÃ´ng cá»¥ thÆ°Æ¡ng máº¡i (chÃ­nh xÃ¡c cao)
- Nessus  
- BurpSuite Pro  
- OWASP ZAP  

ChÃºng thá»±c hiá»‡n:
- **Passive Scan:** phÃ¢n tÃ­ch code phÃ­a client Ä‘á»ƒ tÃ¬m DOM XSS  
- **Active Scan:** gá»­i payload â†’ xem cÃ³ Ä‘Æ°á»£c pháº£n chiáº¿u & thá»±c thi hay khÃ´ng  

### ğŸ”§ CÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ (miá»…n phÃ­)
| Tool | MÃ´ táº£ |
|------|-------|
| **XSStrike** | PhÃ¢n tÃ­ch reflection + generate hÃ ng nghÃ¬n payload |
| **BruteXSS** | Bruteforce payload XSS |
| **XSSer** | Framework XSS tá»± Ä‘á»™ng |

VÃ­ dá»¥ cháº¡y XSStrike:
```
naruto3co@htb[/htb]$ git clone https://github.com/s0md3v/XSStrike.git
naruto3co@htb[/htb]$ cd XSStrike
naruto3co@htb[/htb]$ pip install -r requirements.txt
naruto3co@htb[/htb]$ python xsstrike.py

XSStrike v3.1.4
...SNIP...


python xsstrike.py -u "http://SERVER_IP/index.php?task=test"
```

Náº¿u payload Ä‘Æ°á»£c pháº£n chiáº¿u vÃ  cÃ³ kháº£ nÄƒng thá»±c thi â†’ cÃ³ XSS.

---

## ğŸ“Œ 3. PhÃ¡t hiá»‡n XSS thá»§ cÃ´ng (Manual Discovery)

### ğŸ¯ 1. DÃ¹ng payload XSS thá»§ cÃ´ng  
Nguá»“n payload lá»›n:
- PayloadAllTheThings  
- PayloadBox  

LÃ½ do nhiá»u payload khÃ´ng hoáº¡t Ä‘á»™ng:
- Má»—i payload phÃ¹ há»£p má»™t vá»‹ trÃ­ (HTML, attribute, JS context,â€¦)  
- Má»™t sá»‘ payload bypass filter nháº¥t Ä‘á»‹nh  
- á»¨ng dá»¥ng cÃ³ nhiá»u táº§ng sanitize khÃ¡c nhau  

### ğŸ¯ 2. Viáº¿t script tá»± Ä‘á»™ng gá»­i payload  
Trong á»©ng dá»¥ng phá»©c táº¡p, tá»± viáº¿t script Python sáº½ hiá»‡u quáº£ hÆ¡n:
- Gá»­i danh sÃ¡ch payload  
- So sÃ¡nh response xem payload cÃ³ xuáº¥t hiá»‡n khÃ´ng  
- TÃ¹y chá»‰nh theo target  

---

## ğŸ“Œ 4. Code Review (PhÃ¡t hiá»‡n Ä‘Ã¡ng tin nháº¥t)  
PhÆ°Æ¡ng phÃ¡p Ä‘Ã¡ng tin nháº¥t Ä‘á»ƒ tÃ¬m XSS trong á»©ng dá»¥ng lá»›n.

### Cáº§n kiá»ƒm tra:
âœ” Backend: dá»¯ liá»‡u user Ä‘Æ°á»£c lá»c & encode nhÆ° tháº¿ nÃ o  
âœ” Frontend: cÃ¡ch hiá»ƒn thá»‹ output (innerHTML, document.write, template literalâ€¦)  

### CÃ¡c vá»‹ trÃ­ cÃ³ thá»ƒ chá»©a XSS:
- Input fields  
- URL params  
- Cookies (náº¿u in ra HTML)  
- User-Agent (náº¿u web in láº¡i header)  

DOM XSS Ä‘áº·c biá»‡t cáº§n kiá»ƒm tra **source â†’ sink**, vÃ­ dá»¥:
```
source: location.hash
sink: element.innerHTML
```

---

## ğŸ“Œ 5. Káº¿t luáº­n  
- CÃ´ng cá»¥ tá»± Ä‘á»™ng giÃºp phÃ¡t hiá»‡n nhanh  
- Payload giÃºp xÃ¡c nháº­n  
- Code review giÃºp tÃ¬m XSS mÃ  scanner bá» sÃ³t  
- Quan trá»ng nháº¥t: **luÃ´n xÃ¡c minh thá»§ cÃ´ng** â€” vÃ¬ khÃ´ng pháº£i má»i reflection Ä‘á»u thá»±c thi XSS  

---

payload 

<img src="" onerror=alert(window.origin)>
